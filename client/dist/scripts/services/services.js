define(["angular","alertify"],function(e,t){"use strict";e.module("hospitalServices",["ngResource"]).factory("LoginService",["$resource",function(e){return e("login")}]).factory("CreateAccountService",["$resource",function(e){return e("create-account")}]).factory("AuthenticationService",[function(){var e={loginSession:function(e){sessionStorage.setItem("HospitalAuthenticationSession",e)},authenticateSession:function(){return null!=sessionStorage.getItem("HospitalAuthenticationSession")?!0:!1},logoutSession:function(){sessionStorage.removeItem("HospitalAuthenticationSession")}};return e}]).factory("WebSocketService",["$q","$rootScope",function(){var e={websocket:void 0,logout:!1,connect:function(){try{var e="ws://localhost:8000/home",o=this;this.logout=!1,this.websocket=window.MozWebSocket?new MozWebSocket(e):new WebSocket(e),this.websocket.onopen=function(){t.success("WebSocket is opened")},this.websocket.onclose=function(){o.reconnect()},this.websocket.onmessage=function(e){o.callback(e.data)}}catch(n){this.reconnect()}},reconnect:function(){if(!this.logout){var e=this;t.log("Websocket is closed. Reconnect in 5s"),setTimeout(function(){e.connect()},5e3)}},disconnect:function(){this.logout=!0,this.websocket.close(),t.success("Logout success")},callback:function(){},registerCallBack:function(e){this.callback=e},send:function(e){this.websocket.send(JSON.stringify(e))}};return e}])});